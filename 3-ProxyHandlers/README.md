代理处理器示例扩展
============================

###### 演示如何对通过 Burp 代理的请求执行各种操作

---

## 项目简介

这是一个代理处理器示例扩展，展示了如何在 Burp Suite 中处理通过代理的 HTTP 请求和响应。通过这个扩展，你可以学习到如何拦截、修改和标记代理流量。

## 功能特点

本扩展实现了以下功能：

1. 请求处理
   - 自动拦截所有 HTTP 请求
   - 根据请求特征执行不同的操作：
     * 丢弃所有 POST 请求
     * 不拦截 URL 中包含 "foo" 的请求
     * 为 JSON 类型的请求添加红色高亮
     * 拦截其他所有请求等待用户处理
   - 对用户修改后的请求不做额外处理

2. 响应处理
   - 自动检查所有 HTTP 响应
   - 为包含 "username" 字符串的响应添加蓝色高亮
   - 其他响应遵循 Burp 的默认拦截规则

## 技术实现

扩展通过以下方式工作：

1. 注册代理处理器
   - 使用 `api.proxy().registerRequestHandler()` 注册请求处理器
   - 使用 `api.proxy().registerResponseHandler()` 注册响应处理器

2. 请求处理流程
   - 检查请求方法（POST 请求被丢弃）
   - 检查 URL 内容（包含 "foo" 的请求直接放行）
   - 检查内容类型（JSON 请求添加红色高亮）
   - 其他请求等待用户处理

3. 响应处理流程
   - 检查响应内容（包含 "username" 的响应添加蓝色高亮）
   - 其他响应遵循默认规则

## 使用场景

这个扩展适用于以下场景：
1. 需要过滤特定类型的请求（如阻止所有 POST 请求）
2. 需要自动标记特定内容的请求和响应
3. 需要根据请求特征执行不同的处理策略
4. 需要监控包含敏感信息的响应

## 开发参考

本示例使用了以下 Burp API：
- `ProxyRequestHandler` 接口：处理代理请求
- `ProxyResponseHandler` 接口：处理代理响应
- `InterceptedRequest` 类：表示被拦截的请求
- `InterceptedResponse` 类：表示被拦截的响应
- `HighlightColor` 枚举：定义高亮颜色

这个示例是学习 Burp 代理处理器开发的良好起点，展示了如何拦截和处理代理流量。