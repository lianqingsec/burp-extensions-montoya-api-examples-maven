# 持久化示例扩展
============================

###### 演示如何将数据保存到项目文件并从中加载

---

## 扩展功能说明

本示例展示了如何使用 Burp Suite 的持久化功能来保存和加载数据，主要功能包括：

1. 启动次数统计：
   - 保存和加载一个简单的递增整数值
   - 在事件日志中显示 Burp 或扩展重启的次数
   - 使用持久化存储确保数据在重启后仍然可用

2. HTTP 请求管理：
   - 保存和加载扩展构建的 HTTP 请求
   - 当 Burp 重启或扩展重新加载时，将请求发送到 Repeater 工具
   - 在标签名中包含递增的计数器，方便追踪请求

3. 请求响应日志：
   - 保存最近的 5 个请求和响应
   - 当 Burp 重启或扩展重新加载时，将最近的 5 个请求响应打印到输出日志
   - 使用持久化列表自动保存和加载存储在列表中的数据

## 技术实现

1. 数据持久化：
   - 使用 `PersistedObject` 接口进行数据存储
   - 支持多种数据类型的保存和加载
   - 自动处理数据的序列化和反序列化

2. 请求管理：
   - 支持不同类型的 HTTP 请求保存
   - 提供请求的自动加载和恢复
   - 集成 Repeater 工具进行请求重放

3. 日志记录：
   - 使用持久化列表存储请求响应
   - 自动维护最近 5 个请求响应的记录
   - 提供便捷的日志输出功能

## 使用场景

1. 开发调试：
   - 保存测试用例和请求模板
   - 快速恢复测试环境
   - 追踪请求历史

2. 安全测试：
   - 保存重要的请求响应记录
   - 分析历史数据
   - 重现安全测试场景

3. 自动化测试：
   - 保存测试配置
   - 记录测试结果
   - 支持测试场景的持久化

## 注意事项

1. 数据管理：
   - 注意数据的大小限制
   - 合理规划存储结构
   - 定期清理不必要的数据

2. 性能考虑：
   - 避免存储过大的请求响应
   - 优化数据加载策略
   - 注意内存使用

3. 安全建议：
   - 不要存储敏感信息
   - 注意数据的安全性
   - 定期备份重要数据