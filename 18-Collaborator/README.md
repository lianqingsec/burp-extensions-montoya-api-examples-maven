# Collaborator 示例扩展
============================

###### 演示使用 Collaborator 和持久化功能

---

## 扩展功能说明

本扩展演示了如何创建和使用 `CollaboratorClient`，包括轮询 Collaborator 服务器以及使用持久化功能保存 Collaborator 的 `SecretKey`。

## 技术实现

该示例扩展演示了以下技术：

1. Collaborator 客户端管理：
   - 创建和恢复 Collaborator 客户端
   - 使用持久化功能保存 SecretKey
   - 管理客户端生命周期

2. 代理请求处理：
   - 注册 `ProxyRequestHandler` 处理请求
   - 在请求中插入 Collaborator 载荷
   - 监控请求处理过程

3. 交互监控：
   - 轮询 Collaborator 服务器
   - 检测异步交互
   - 记录交互信息

4. 生命周期管理：
   - 扩展加载和卸载处理
   - 轮询服务的启动和停止
   - 资源清理和释放

## 使用场景

1. 安全测试：
   - 检测 SSRF 漏洞
   - 测试外部系统交互
   - 验证安全机制

2. 开发调试：
   - 监控网络请求
   - 分析交互模式
   - 调试扩展功能

3. 自动化测试：
   - 集成测试
   - 持续集成
   - 自动化安全测试

## 测试说明

您可以在以下 URL 测试此扩展：
https://portswigger-labs.net/ssrf-dns.php

## 开发说明

`poller` 包已设计为可以在其他扩展中轻松重用，提供了以下特性：
- 可配置的轮询间隔
- 灵活的交互处理机制
- 线程安全的实现
- 易于集成的接口

## 注意事项

1. 使用建议：
   - 合理设置轮询间隔
   - 注意资源使用
   - 避免过度请求

2. 安全考虑：
   - 保护 SecretKey
   - 注意敏感信息
   - 遵循安全最佳实践

3. 性能优化：
   - 优化轮询频率
   - 控制资源使用
   - 避免内存泄漏
